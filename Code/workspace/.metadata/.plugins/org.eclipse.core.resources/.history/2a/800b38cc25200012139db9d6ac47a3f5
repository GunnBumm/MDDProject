// automatically generated by Xtext
grammar mddProject.concreteSyntax.JDSL with org.eclipse.xtext.common.Terminals

import "platform:/resource/mddProject_AbstractSyntax/model/jdsl.ecore" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

ContentModel returns ContentModel:
	{ContentModel}
	'ContentModel'
	name=EString
	'{'
		('hasElements' '{' hasElements+=NamedElement ( "," hasElements+=NamedElement)* '}' )?
	'}';

NamedElement returns NamedElement:
	ContentModel | ContentType  | CMS;

//ContentModel | ContentType | Property | SingleType | ArrayType | Role | User | Version | CMS | AccessLevel;


Type returns Type:
	SingleType | ArrayType;



EString returns ecore::EString:
	STRING | ID;

ContentType returns ContentType:
	(visible?='visible')?
	'ContentType'
	name=EString
	'{'
		('guid' guid=EInt)?
		'hasProperties' '{' hasProperties+=Property ( "," hasProperties+=Property)* '}' 
		('hasVersions' '{' hasVersions+=Version ( "," hasVersions+=Version)* '}' )?
		('modifiedBy' modifiedBy=User)?
	'}';

Property returns Property:
	'Property'
	name=EString
	'{'
		'accessModifer' accessModifer=AccessLevelEnum
		('Datatype' Datatype=Type)?
	'}';


SingleType returns SingleType:
	{SingleType}
	'SingleType'
	name=EString
	'{'
		('type' type=TypeEnum)?
	'}';

ArrayType returns ArrayType:
	{ArrayType}
	'ArrayType'
	name=EString
	'{'
		('type' type=TypeEnum)?
	'}';

Role returns Role:
	{Role}
	(isAdmin?='isAdmin')?
	'Role'
	name=EString
	'{'
		('types' '{' types+=EString ( "," types+=EString)* '}' )?
	'}';

User returns User:
	{User}
	(disabled?='disabled')?
	'User'
	name=EString
	'{'
		('firstname' firstname=EString)?
		('lastname' lastname=EString)?
		('login' login=EString)?
		('password' password=EString)?
		('email' email=EString)?
		('hasRole' hasRole=Role)?
	'}';

Version returns Version:
	{Version}
	'Version'
	name=EString;

CMS returns CMS:
	{CMS}
	'CMS'
	name=EString
	'{'
		('type' type=CMSEnum)
		('address_url' address_url=EString)
		('username' username=EString)
		('password' password=EString)
	'}';


EInt returns ecore::EInt:
	'-'? INT;

EBoolean returns ecore::EBoolean:
	'true' | 'false';


enum TypeEnum:
	char='char' | byte='byte' | string='string' | int='int' | float='float' | double='double' | boolean='boolean' | date='date'
;

enum CMSEnum:
		Jease='Jease' | N2 = 'N2' | Concrete5 = 'Concrete5' | Plone = 'Plone'
	;

enum AccessLevelEnum:
	public='public' | private='private'	
	;
